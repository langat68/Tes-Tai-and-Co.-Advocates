// Variables (matching footer theme)
$primary-color: #1a365d;
$secondary-color: #2d5a87;
$accent-color: #4a90c2;
$text-primary: #1a202c;
$text-secondary: #4a5568;
$text-light: #ffffff;
$border-color: rgba(26, 54, 93, 0.1);
$hover-color: #63b3ed;
$shadow-light: rgba(26, 54, 93, 0.1);
$shadow-medium: rgba(26, 54, 93, 0.15);
$gradient-start: #1a365d;
$gradient-end: #2c5282;

// Mixins
@mixin flex-center {
    display: flex;
    align-items: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin transition($properties: all, $duration: 0.3s, $easing: ease) {
    transition: $properties $duration $easing;
}

@mixin hover-lift {
    @include transition(transform, 0.2s, ease);

    &:hover {
        transform: translateY(-2px);
    }
}

@mixin glass-effect {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
}

// Responsive breakpoints
$breakpoints: (
    mobile: 480px,
    tablet: 768px,
    desktop: 1024px,
    large: 1200px
);

@mixin responsive($breakpoint) {
    @media (max-width: map-get($breakpoints, $breakpoint)) {
        @content;
    }
}

// Navbar Styles
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    @include glass-effect;
    box-shadow: 0 4px 20px $shadow-light;
    border-bottom: 1px solid $border-color;
    @include transition(all, 0.3s, ease);

    // Scrolled state
    &.scrolled {
        box-shadow: 0 8px 30px $shadow-medium;
        background: rgba(255, 255, 255, 0.98);
    }

    // Container
    &__container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;

        @include responsive(tablet) {
            padding: 0 1rem;
        }
    }

    // Main content
    &__content {
        @include flex-between;
        height: 4.5rem;
        position: relative;

        @include responsive(tablet) {
            height: 4rem;
        }
    }

    // Logo section
    &__logo {
        @include flex-center;
        text-decoration: none;
        @include transition();
        cursor: pointer;

        &:hover {
            transform: scale(1.02);
        }

        &-icon {
            width: 2rem;
            height: 2rem;
            color: $accent-color;
            margin-right: 0.75rem;
            @include transition(color, 0.2s, ease);

            @include responsive(mobile) {
                width: 1.75rem;
                height: 1.75rem;
                margin-right: 0.5rem;
            }
        }

        &-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: $primary-color;
            letter-spacing: -0.025em;

            @include responsive(mobile) {
                font-size: 1.25rem;
            }
        }

        &:hover &-icon {
            color: $hover-color;
        }
    }

    // Desktop Navigation Links
    &__links {
        @include flex-center;
        gap: 2.5rem;

        @include responsive(tablet) {
            display: none;
        }
    }

    &__link {
        color: $text-secondary;
        text-decoration: none;
        font-weight: 500;
        font-size: 0.95rem;
        position: relative;
        padding: 0.5rem 0;
        @include transition();

        &::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, $accent-color, $hover-color);
            @include transition(width, 0.3s, ease);
        }

        &:hover {
            color: $primary-color;

            &::after {
                width: 100%;
            }
        }

        &.active {
            color: $primary-color;

            &::after {
                width: 100%;
            }
        }
    }

    // CTA Button
    &__cta {
        background: linear-gradient(135deg, $gradient-start, $gradient-end);
        color: $text-light;
        text-decoration: none;
        padding: 0.75rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        font-size: 0.9rem;
        box-shadow: 0 4px 15px rgba(26, 54, 93, 0.2);
        @include transition();
        @include hover-lift;
        position: relative;
        overflow: hidden;

        &::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            @include transition(left, 0.6s, ease);
        }

        &:hover {
            box-shadow: 0 6px 25px rgba(26, 54, 93, 0.3);
            transform: translateY(-2px) scale(1.02);

            &::before {
                left: 100%;
            }
        }

        &:active {
            transform: translateY(0) scale(0.98);
        }
    }

    // Mobile Menu Button
    &__menu-button {
        display: none;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 0.375rem;
        @include transition();

        @include responsive(tablet) {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        &:hover {
            background: rgba(26, 54, 93, 0.05);
        }

        &:active {
            transform: scale(0.95);
        }
    }

    &__menu-icon {
        width: 1.5rem;
        height: 1.5rem;
        color: $text-secondary;
        @include transition();
    }

    // Mobile Navigation
    &__mobile {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(20px);
        box-shadow: 0 8px 30px $shadow-medium;
        border-bottom: 1px solid $border-color;
        animation: slideDown 0.3s ease forwards;

        @include responsive(tablet) {
            display: block;
        }
    }

    &__mobile-links {
        padding: 1.5rem 2rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;

        @include responsive(mobile) {
            padding: 1rem;
        }
    }

    &__mobile-link {
        color: $text-secondary;
        text-decoration: none;
        font-weight: 500;
        padding: 1rem 0;
        border-bottom: 1px solid rgba(26, 54, 93, 0.05);
        @include transition();
        position: relative;

        &:last-of-type {
            border-bottom: none;
        }

        &::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 0;
            height: 2px;
            background: $accent-color;
            transform: translateY(-50%);
            @include transition(width, 0.3s, ease);
        }

        &:hover {
            color: $primary-color;
            padding-left: 1rem;

            &::before {
                width: 0.5rem;
            }
        }

        &:active {
            background: rgba(26, 54, 93, 0.02);
        }
    }

    &__mobile-cta {
        background: linear-gradient(135deg, $gradient-start, $gradient-end);
        color: $text-light;
        text-decoration: none;
        padding: 1rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        text-align: center;
        margin-top: 1rem;
        box-shadow: 0 4px 15px rgba(26, 54, 93, 0.2);
        @include transition();

        &:hover {
            box-shadow: 0 6px 25px rgba(26, 54, 93, 0.3);
            transform: translateY(-1px);
        }

        &:active {
            transform: translateY(0) scale(0.98);
        }
    }
}

// Animations
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

// Body padding when navbar is fixed
body {
    padding-top: 4.5rem;

    @include responsive(tablet) {
        padding-top: 4rem;
    }
}

// Scroll behavior
html {
    scroll-behavior: smooth;
}

// Focus styles for accessibility
.navbar {

    &__link,
    &__mobile-link,
    &__cta,
    &__mobile-cta,
    &__menu-button {
        &:focus-visible {
            outline: 2px solid $accent-color;
            outline-offset: 2px;
            border-radius: 0.25rem;
        }
    }
}

// High contrast mode support
@media (prefers-contrast: high) {
    .navbar {
        background: rgba(255, 255, 255, 1);
        border-bottom: 2px solid $primary-color;

        &__logo-icon {
            color: $primary-color;
        }

        &__link,
        &__mobile-link {
            color: $primary-color;

            &:hover {
                background: rgba(26, 54, 93, 0.1);
            }
        }
    }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
    .navbar * {
        transition: none !important;
        animation: none !important;
    }

    .navbar__mobile {
        animation: none;
    }
}

// Print styles
@media print {
    .navbar {
        display: none;
    }

    body {
        padding-top: 0 !important;
    }
}